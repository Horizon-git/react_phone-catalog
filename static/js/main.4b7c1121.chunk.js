(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(47).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(23),n=c.n(a),s=c(21),i=c(12),r=c(10),o=c(5),l=c.n(o),d="https://mate-academy.github.io/react_phone-catalog/api";function j(e){return new Promise((function(t){setTimeout(t,e)}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),j(300).then((function(){return fetch(d+e,a)})).then((function(e){if(e.ok)return e.json();throw new Error("Error")}))}var b=function(e){return u(e)},m=function(e){return b("/products/".concat(e,".json"))},p=Object(i.b)("products/fetchProducts",Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/products.json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),_=Object(i.c)({name:"products",initialState:{products:[],loading:!1,hasError:!1},reducers:{},extraReducers:function(e){e.addCase(p.pending,(function(e){e.loading=!0,e.hasError=!1})).addCase(p.fulfilled,(function(e,t){e.loading=!1,e.products=t.payload})).addCase(p.rejected,(function(e){e.hasError=!0,e.loading=!1}))}}).reducer,h=Object(i.b)("product/fetchProductDetails",function(){var e=Object(r.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(i.c)({name:"product",initialState:{productDetails:null,loadingDetails:!1,hasError:!1},reducers:{},extraReducers:function(e){e.addCase(h.pending,(function(e){e.loadingDetails=!0,e.hasError=!1})).addCase(h.fulfilled,(function(e,t){e.loadingDetails=!1,e.productDetails=t.payload})).addCase(h.rejected,(function(e){e.hasError=!0,e.loadingDetails=!1}))}}).reducer,f=c(7),x={favorites:JSON.parse(localStorage.getItem("favorites")||"[]")},v=Object(i.c)({name:"favorites",initialState:x,reducers:{addFavoriteProduct:function(e,t){localStorage.setItem("favorites",JSON.stringify([].concat(Object(f.a)(e.favorites),[t.payload]))),e.favorites.push(t.payload)},removeFavoriteProduct:function(e,t){var c=e.favorites.filter((function(e){return e.id!==t.payload.id}));localStorage.setItem("favorites",JSON.stringify(c)),e.favorites=c}}}),g=v.actions,N=g.addFavoriteProduct,y=g.removeFavoriteProduct,k=v.reducer,C={cart:JSON.parse(localStorage.getItem("cart")||"[]")},S=Object(i.c)({name:"cart",initialState:C,reducers:{addCartItem:function(e,t){localStorage.setItem("cart",JSON.stringify([].concat(Object(f.a)(e.cart),[t.payload]))),e.cart.push(t.payload)},removeCartItem:function(e,t){var c=e.cart.find((function(e){return e.id===t.payload.id&&e.color===t.payload.color&&e.capacity===t.payload.capacity})),a=e.cart.filter((function(e){return e!==c}));localStorage.setItem("cart",JSON.stringify(a)),e.cart=a},increaseItem:function(e,t){var c=e.cart.find((function(e){return e.id===t.payload.id&&e.color===t.payload.color&&e.capacity===t.payload.capacity}));c&&(c.quantity+=1,localStorage.setItem("cart",JSON.stringify(Object(f.a)(e.cart))))},decreaseItem:function(e,t){var c=e.cart.find((function(e){return e.id===t.payload.id&&e.color===t.payload.color&&e.capacity===t.payload.capacity}));c&&(c.quantity-=1,localStorage.setItem("cart",JSON.stringify(Object(f.a)(e.cart))))}}}),w=S.actions,F=w.addCartItem,A=w.removeCartItem,E=w.increaseItem,T=w.decreaseItem,I=S.reducer,M=Object(i.a)({reducer:{products:_,productDetails:O,favorites:k,cart:I}}),q=c(6),L=c(3),P=(c(47),c(48),c(49),c(0)),D=[{name:"Github",path:"https://github.com/Horizon-git"},{name:"Contacts",path:"/"},{name:"Rights",path:"/"}],J=function(){return Object(P.jsx)("footer",{className:"footer",children:Object(P.jsxs)("div",{className:"footer__container",children:[Object(P.jsx)(q.b,{to:"/",children:Object(P.jsx)("img",{src:"./img/icons/logo.svg",alt:"Logo",className:"logo logo--footer"})}),Object(P.jsx)("nav",{className:"footer__nav",children:D.map((function(e){var t=e.name,c=e.path;return Object(P.jsx)(q.b,{to:c,className:"footer__link",children:t},t)}))}),Object(P.jsx)("button",{className:"footer__button",type:"button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(P.jsx)("img",{src:"./img/icons/arrow.svg",alt:"Arrow"})})]})})},R=c(9),B=c.n(R),U=function(){return Object(s.b)()},$=s.c,G=c(4),z=c(1);function H(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}function W(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(G.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}c(51);var X,K=function(e){var t=e.pageName,c=Object(q.d)(),a=Object(G.a)(c,2),n=a[0],s=a[1],i=Object(z.useState)(""),r=Object(G.a)(i,2),o=r[0],l=r[1];return Object(P.jsxs)("form",{className:"search","data-cy":"search",children:[Object(P.jsx)("input",{className:"search__input",placeholder:"Search in ".concat(t,"..."),value:o,onChange:function(e){return function(e){l(e.target.value),s(W(n,{query:e.target.value||null}))}(e)}}),""!==o&&Object(P.jsx)("button",{type:"button",className:"search__button",onClick:function(){s(W(n,{query:null})),l("")},children:Object(P.jsx)("span",{className:"icon icon--cancel"})}),""===o&&Object(P.jsx)("button",{type:"button",className:"search__button",children:Object(P.jsx)("span",{className:"icon icon--search"})})]})},Y=(c(52),c(53),[{name:"Home",path:"/"},{name:"Phones",path:"/phones"},{name:"Tablets",path:"/tablets"},{name:"Accessories",path:"/accessories"}]),Q=function(e){var t=e.isActive;return B()("nav__link",{"nav__link--active":t})},V=function(e){var t=e.isActive;return B()("icon__block",{"icon__block--active":t})},Z=function(){var e=Object(L.n)().pathname.split("/").filter((function(e){return""!==e})).join(""),t=$((function(e){return e.favorites.favorites})),c=$((function(e){return e.cart.cart}));return Object(P.jsxs)("header",{className:"header",children:[Object(P.jsxs)("div",{className:"header__container",children:[Object(P.jsx)(q.b,{to:"/",className:"header__logo",children:Object(P.jsx)("img",{src:"./img/icons/logo.svg",alt:"logo"})}),Object(P.jsx)("nav",{className:"header__nav nav",children:Object(P.jsx)("ul",{className:"nav__list",children:Y.map((function(e){var t=e.name,c=e.path;return Object(P.jsx)("li",{className:"nav__item",children:Object(P.jsx)(q.c,{className:Q,to:c,children:t})},t)}))})})]}),Object(P.jsxs)("div",{className:"header__right",children:[("phones"===e||"tablets"===e||"accessories"===e||"favorites"===e)&&Object(P.jsx)(K,{pageName:e}),Object(P.jsxs)(q.c,{className:V,to:"/favorites",children:[Object(P.jsx)("span",{className:"icon icon--favorites"}),t.length>0&&Object(P.jsx)("span",{className:"icon__counter",children:t.length})]}),Object(P.jsxs)(q.c,{className:V,to:"/cart",children:[Object(P.jsx)("span",{className:"icon icon--cart"}),c.length>0&&Object(P.jsx)("span",{className:"icon__counter",children:c.length})]})]})]})},ee=function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(Z,{}),Object(P.jsx)("div",{className:"wrapper",children:Object(P.jsx)(L.b,{})}),Object(P.jsx)(J,{})]})},te=(c(54),function(){var e=Object(L.n)().pathname.split("/").filter((function(e){return""!==e}));return e.unshift("/"),Object(P.jsx)("div",{className:"breadcrumbs",children:e.map((function(t,c){return Object(P.jsxs)("div",{className:"breadcrumbs__part",children:[c>0&&Object(P.jsx)("span",{className:"breadcrumbs__separator",children:Object(P.jsx)("img",{src:"./img/icons/arrow-gray.svg",alt:"arrow",className:"breadcrumbs__right-arrow"})}),c===e.length-1?Object(P.jsx)("span",{className:"breadcrumbs__current",children:t.charAt(0).toUpperCase()+t.slice(1).split("-").join(" ")}):Object(P.jsx)(P.Fragment,{children:"/"===t?Object(P.jsx)(q.b,{to:t,className:"icon icon--home"}):Object(P.jsx)(q.b,{to:"/".concat(t),className:"breadcrumbs__link",children:t.charAt(0).toUpperCase()+t.slice(1)})})]},t)}))})}),ce=(c(55),function(){return Object(P.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(P.jsx)("div",{className:"Loader__content"})})}),ae=(c(56),function(e){var t=e.message;return Object(P.jsx)("div",{className:"notification",children:Object(P.jsx)("h2",{className:"notification__message",children:t})})}),ne=(c(57),c(58),function(e){var t=e.total,c=Object(q.d)(),a=Object(G.a)(c,1)[0],n=a.get("perPage")||"16",s=Number(a.get("page"))||1,i=Math.ceil(t/+n),r=1===s,o=s===i,l=function(e){return W(a,{page:String(e)||null})};return Object(P.jsxs)("div",{className:"pagination",children:[Object(P.jsx)("div",{children:Object(P.jsx)(q.b,{"data-cy":"prevLink",className:B()("pagination__link",{disabled:r}),"aria-disabled":r,to:{search:r?void 0:l(s-1)},children:"<"})}),Object(P.jsx)("div",{className:"pagination__pages",children:H(1,i).map((function(e){return Object(P.jsx)("div",{className:B()("pagination__item",{active:e===s}),children:Object(P.jsx)(q.b,{"data-cy":"pageLink",className:B()("pagination__link",{active:e===s}),to:{search:s!==e?l(e):void 0},onClick:function(t){s===e&&t.preventDefault()},children:e})},e)}))}),Object(P.jsx)("div",{children:Object(P.jsx)(q.b,{"data-cy":"nextLink",className:B()("pagination__link",{disabled:o}),"aria-disabled":o,to:{search:o?void 0:l(s+1)},children:">"})})]})}),se=(c(59),function(e){var t=e.product,c=U(),a=$((function(e){return e.favorites})).favorites,n=$((function(e){return e.cart})).cart,s=Object(z.useMemo)((function(){return a.some((function(e){return e.id===t.id}))}),[a]),i=Object(z.useMemo)((function(){return n.some((function(e){return e.id===t.id}))}),[n]),r=t.imageUrl,o=t.name,l=t.price,d=t.discount,j=t.screen,u=t.capacity,b=t.ram,m=t.id;return Object(P.jsxs)("div",{className:"card","data-cy":"cardsContainer",children:[Object(P.jsxs)(q.b,{to:"/phones/".concat(m),className:"card__link",children:[Object(P.jsx)("img",{src:"".concat(r),alt:o,className:"card__img"}),Object(P.jsx)("h2",{className:"card__title",children:o}),Object(P.jsx)("div",{className:"card__price",children:0===d?Object(P.jsx)("p",{className:"card__price-regular",children:"$".concat(l)}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("p",{className:"card__price-regular",children:"$".concat(l*((100-d)/100))}),Object(P.jsx)("p",{className:"card__price-discount",children:"$".concat(l)})]})}),Object(P.jsxs)("div",{className:"card__specs-container",children:[Object(P.jsxs)("div",{className:"card__specs",children:[Object(P.jsx)("p",{className:"card__specs-title",children:"Screen"}),Object(P.jsx)("p",{className:"card__specs-value",children:j})]}),Object(P.jsxs)("div",{className:"card__specs",children:[Object(P.jsx)("p",{className:"card__specs-title",children:"Capacity"}),Object(P.jsx)("p",{className:"card__specs-value",children:u})]}),Object(P.jsxs)("div",{className:"card__specs",children:[Object(P.jsx)("p",{className:"card__specs-title",children:"RAM"}),Object(P.jsx)("p",{className:"card__specs-value",children:b})]})]})]}),Object(P.jsxs)("div",{className:"card__buttons",children:[Object(P.jsx)("button",{type:"button","data-cy":"addToCart",className:B()("add-to-cart",{"add-to-cart--active":i}),onClick:function(){var e={id:null===t||void 0===t?void 0:t.id,title:null===t||void 0===t?void 0:t.name,imageUrl:null===t||void 0===t?void 0:t.imageUrl,price:t.price*((100-t.discount)/100),color:"Beige",capacity:64,quantity:1};c(i?A(e):F(e))},children:i?"Added to cart":"Add to cart"}),Object(P.jsx)("button",{type:"button","data-cy":"addToFavorite",className:B()("favorites",{"favorites--active":s}),onClick:function(){c(s?y(t):N(t))},children:Object(P.jsx)("span",{className:B()("icon",{"icon--favorites":!s,"icon--favorites--red":s})})})]})]})});!function(e){e.newest="age",e.cheapest="price",e.alphabet="name"}(X||(X={}));var ie=c(8);c(60);function re(e,t){var c=e.find((function(e){return e.value===t}));return c?c.label:void 0}var oe=function(e){var t=e.options,c=e.currentOption,a=e.searchName,n=Object(z.useState)(!1),s=Object(G.a)(n,2),i=s[0],r=s[1],o=Object(q.d)(),l=Object(G.a)(o,1)[0];return Object(z.useEffect)((function(){if(i){var e=function(){r(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[i]),Object(P.jsxs)("div",{className:B()("dropdown",{"is-active":i}),children:[Object(P.jsx)("div",{className:"dropdown-trigger",children:Object(P.jsxs)("button",{type:"button",className:B()("button button--dropdown dropdown",{"button--dropdown-focus":i}),"aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(){r((function(e){return!e}))},children:[Object(P.jsx)("span",{className:"dropdown__current",children:re(t,c)||"Choose a option"}),Object(P.jsx)("span",{className:"icon icon--arrow--gray--down"})]})}),Object(P.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(P.jsx)("ul",{className:B()("dropdown__list",{"dropdown__list--visible":i}),children:t.map((function(e){var t=e.label,c=e.value;return Object(P.jsx)(q.b,{to:{search:W(l,Object(ie.a)({},a,c))},className:"dropdown__link",onClick:function(){return r(!1)},children:t},c)}))})})]})},le=[{label:"Newest",value:"age"},{label:"Cheapest",value:"price"},{label:"Alphabetically",value:"name"}],de=[{label:"4",value:"4"},{label:"8",value:"8"},{label:"16",value:"16"},{label:"All",value:"all"}],je=function(e){var t=e.products,c=Object(q.d)(),a=Object(G.a)(c,1)[0],n=a.get("perPage")||"16",s=Number(a.get("page"))||1,i=a.get("sort")||"",r=a.get("query")||"",o=Math.min(s*+n,t.length),l=(s-1)*+n,d="all"!==n?t.slice(l,o):Object(f.a)(t),j=Object(z.useMemo)((function(){var e,t=r.toLocaleLowerCase(),c=Object(f.a)(d);switch(r&&(c=c.filter((function(e){return e.name.toLowerCase().includes(t)}))),i){case X.alphabet:e=Object(f.a)(c).sort((function(e,t){return e[i].localeCompare(t[i])}));break;case X.newest:e=Object(f.a)(c).sort((function(e,t){return t[i]-e[i]}));break;case X.cheapest:e=Object(f.a)(c).sort((function(e,t){return e.price*((100-e.discount)/100)-t.price*((100-t.discount)/100)}));break;default:return c}return e||c}),[a,d,r]);return Object(P.jsx)(P.Fragment,{children:0===j.length?Object(P.jsx)(ae,{message:"There is no products by this query"}):Object(P.jsxs)("div",{className:"product-list",children:[Object(P.jsx)("div",{children:Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"product-list__filters",children:[Object(P.jsxs)("div",{className:"product-list__dropdown-wrapper",children:[Object(P.jsx)("p",{className:"product-list__dropdown-label",children:"Sort by"}),Object(P.jsx)(oe,{currentOption:i,searchName:"sort",options:le})]}),Object(P.jsxs)("div",{className:"product-list__dropdown-wrapper product-list__dropdown-wrapper--per-page",children:[Object(P.jsx)("p",{className:"product-list__dropdown-label",children:"Items on page"}),Object(P.jsx)(oe,{currentOption:n,searchName:"perPage",options:de})]})]})})}),Object(P.jsx)("div",{className:"product-list__list",children:j.map((function(e){return Object(P.jsx)("div",{className:"product-list__item",children:Object(P.jsx)(se,{product:e})},e.id)}))}),d.length!==t.length&&Object(P.jsx)(ne,{total:t.length})]})})},ue=function(e){var t=e.productType,c=$((function(e){return e.products})),a=c.products,n=c.loading,s=c.hasError,i=U();Object(z.useEffect)((function(){i(p())}),[]);var r=a.filter((function(e){return e.type===t}));return Object(P.jsxs)("main",{className:"".concat(t,"-page"),children:[Object(P.jsx)(te,{}),"phone"===t&&Object(P.jsx)("h1",{children:"Mobile phones"}),"tablet"===t&&Object(P.jsx)("h1",{children:"Tablets"}),"accessory"===t&&Object(P.jsx)("h1",{children:"Accessories"}),r.length>0&&Object(P.jsx)("div",{className:"".concat(t,"-page__count"),children:"".concat(r.length," models")}),n&&Object(P.jsx)(ce,{}),!n&&s&&Object(P.jsx)(ae,{message:"Sorry, there is error on the server"}),!n&&!s&&0===r.length&&Object(P.jsx)(ae,{message:"Sorry, there is no products on the page"}),!n&&!s&&r.length>0&&Object(P.jsx)(je,{products:r})]})},be=(c(61),function(){return Object(P.jsx)(ue,{productType:"accessory"})}),me=(c(62),c(63),function(e){var t=e.item,c=t.id,a=t.title,n=t.imageUrl,s=t.price,i=t.color,r=t.capacity,o=t.quantity,l=U();return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"cart-item",children:[Object(P.jsxs)("div",{className:"cart-item__container",children:[Object(P.jsx)("button",{type:"button",className:"cart-item__delete",onClick:function(){l(A(t))},children:Object(P.jsx)("span",{className:"icon icon--close"})}),Object(P.jsx)(q.b,{to:"/phones/".concat(c),children:Object(P.jsx)("img",{src:n,alt:"",className:"cart-item__image"})}),Object(P.jsx)(q.b,{to:"/phones/".concat(c),children:Object(P.jsxs)("div",{className:"cart-item__name",children:[Object(P.jsx)("div",{className:"cart-item__name__char",children:a}),Object(P.jsx)("div",{className:"cart-item__name__char",children:i}),Object(P.jsx)("div",{className:"cart-item__name__char",children:"".concat(r,"GB")})]})})]}),Object(P.jsxs)("div",{className:"cart-item__container",children:[Object(P.jsx)("button",{type:"button",className:"cart-item__action-quantity",disabled:1===o,onClick:function(){l(T(t))},children:"-"}),Object(P.jsx)("span",{className:"cart-item__quantity",children:o}),Object(P.jsx)("button",{type:"button",className:"cart-item__action-quantity",onClick:function(){l(E(t))},children:"+"}),Object(P.jsx)("div",{className:"cart-item__price",children:"$".concat(s*o)})]})]})})}),pe=(c(64),function(){var e=Object(L.p)();return Object(P.jsx)("button",{type:"button","data-cy":"backButton",className:"back-button",onClick:function(){return e(-1)},children:"Back"})}),_e=function(){var e=$((function(e){return e.cart.cart})),t=Object(z.useState)(!1),c=Object(G.a)(t,2),a=c[0],n=c[1],s=e.reduce((function(e,t){return t.price*t.quantity+e}),0),i=e.reduce((function(e,t){return t.quantity+e}),0);return Object(z.useEffect)((function(){if(a){var e=setTimeout((function(){n(!1)}),3e3);return function(){return clearTimeout(e)}}}),[a]),Object(P.jsxs)("section",{className:"cart",children:[Object(P.jsx)(pe,{}),e.length<=0?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(ae,{message:"Cart is empty"})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:"Cart"}),Object(P.jsxs)("div",{className:"cart__container",children:[Object(P.jsx)("div",{className:"cart__list",children:e.map((function(e){return Object(P.jsx)(me,{item:e},e.id)}))}),Object(P.jsxs)("div",{className:"cart__checkout",children:[Object(P.jsx)("div",{className:"cart__total-price",children:"$".concat(s)}),Object(P.jsx)("div",{className:"cart__total-price__quantity",children:"Total for\n                ".concat(i," items")}),Object(P.jsx)("button",{type:"button",className:"cart__button-checkout",onClick:function(){return n(!0)},children:"Checkout"}),a&&Object(P.jsx)("div",{className:"cart__error",children:Object(P.jsx)(ae,{message:"This function is not available yet."})})]})]})]})]})},he=(c(65),function(){var e=$((function(e){return e.favorites.favorites})),t=Object(q.d)(),c=Object(G.a)(t,1)[0],a=c.get("query")||"",n=Object(z.useMemo)((function(){var t=a.toLocaleLowerCase(),c=Object(f.a)(e);return a&&(c=c.filter((function(e){return e.name.toLowerCase().includes(t)}))),c}),[c,e,a]);return Object(P.jsxs)("section",{className:"favorites",children:[Object(P.jsx)(te,{}),e.length<=0?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(ae,{message:"Favorites not found"})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:"Favorites"}),e.length>0&&Object(P.jsx)("div",{className:"favorites__count",children:"".concat(e.length," items")}),Object(P.jsx)("div",{className:"favorites__container",children:n.map((function(e){return Object(P.jsx)(se,{product:e},e.id)}))})]})]})}),Oe=(c(66),function(){var e=["./img/banner-phones.png","./img/banner-tablets.png","./img/banner-accessories.png"],t=1040,c=Object(z.useState)(0),a=Object(G.a)(c,2),n=a[0],s=a[1],i=e.length-1;return Object(P.jsxs)("div",{className:"banner",children:[Object(P.jsxs)("div",{className:"banner__container",children:[Object(P.jsx)("button",{type:"button",onClick:function(){s(0!==n?function(e){return Math.max(e-1,0)}:i)},className:"banner__button",children:"<"}),Object(P.jsx)("ul",{className:"banner__list",style:{width:"".concat(t,"px"),transition:"".concat(1e3,"ms")},children:e.map((function(e,c){return Object(P.jsx)("li",{className:"banner__item",style:{transform:"translateX(".concat(-n*t,"px)"),transition:"".concat(1e3,"ms")},children:Object(P.jsx)("img",{src:e,alt:(c+1).toString(),width:t,className:"banner__image"})},e)}))}),Object(P.jsx)("button",{type:"button",onClick:function(){s(n!==i?function(e){return Math.min(e+1,i)}:0)},className:"banner__button",children:">"})]}),Object(P.jsx)("div",{className:"banner__pagination",children:e.map((function(e,t){return Object(P.jsx)("button",{type:"button",onClick:function(){return s(t)},className:B()("banner__indicator",{"banner__indicator--active":n===t})},e)}))})]})}),fe=(c(67),[{name:"Mobile phones",path:"/phones",img:"_new/img/category-phones.png",type:"phone"},{name:"Tablets",path:"/tablets",img:"_new/img/category-tablets.png",type:"tablet"},{name:"Accessories",path:"/accessories",img:"_new/img/category-accessories.png",type:"accessory"}]),xe=function(){var e=$((function(e){return e.products})),t=e.products,c=Object(z.useCallback)((function(e){return t.filter((function(t){return t.type===e})).length}),[t]);return Object(P.jsx)("section",{className:"category",children:Object(P.jsxs)("div",{className:"shop-by-category",children:[Object(P.jsx)("h1",{className:"shop-by-category__title",children:"Shop by category"}),Object(P.jsx)("div",{className:"shop-by-category__links-container","data-cy":"categoryLinksContainer",children:fe.map((function(e){var t=e.name,a=e.path,n=e.img,s=e.type;return Object(P.jsxs)("div",{className:"shop-by-category__card",children:[Object(P.jsxs)(q.b,{to:a,className:"shop-by-category__link",children:[Object(P.jsx)("div",{className:"shop-by-category__img-container\n                    shop-by-category__img-container--".concat(a.slice(1)),children:Object(P.jsx)("img",{src:n,alt:t,className:"shop-by-category__img\n                      shop-by-category__img-".concat(a.slice(1))})}),Object(P.jsx)("h3",{className:"shop-by-category__name",children:t})]}),Object(P.jsx)("p",{className:"shop-by-category__quantity",children:"".concat(c(s)," models")})]},t)}))})]})})},ve=(c(68),function(e){var t=e.products,c=e.title,a=0,n=Object(z.useState)(0),s=Object(G.a)(n,2),i=s[0],r=s[1],o=t.length-4;return i>0&&(a=16*i),Object(P.jsx)("section",{className:"productSlider",children:Object(P.jsxs)("div",{className:"productSlider__container",children:[Object(P.jsxs)("div",{className:"productSlider__top",children:[Object(P.jsx)("h1",{className:"productSlider__title",children:c}),Object(P.jsxs)("div",{className:"productSlider__buttons",children:[Object(P.jsx)("button",{type:"button",onClick:function(){r(0!==i?function(e){return Math.max(e-1,0)}:o)},className:"productSlider__button",disabled:0===i,children:"<"}),Object(P.jsx)("button",{type:"button",onClick:function(){r(i!==o?function(e){return Math.min(e+1,o)}:0)},className:"productSlider__button",disabled:i===o,children:">"})]})]}),Object(P.jsx)("ul",{className:"productSlider__list",style:{width:"".concat(1136,"px"),transition:"".concat(1e3,"ms")},children:t.map((function(e){return Object(P.jsx)("li",{className:"productSlider__item",style:{transform:"translateX(".concat(272*-i-a,"px)"),transition:"".concat(1e3,"ms")},children:Object(P.jsx)(se,{product:e})},e.id)}))})]})})}),ge=function(e){return Object(f.a)(e).filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))},Ne=(c(69),function(){var e,t=U(),c=$((function(e){return e.products})),a=c.products,n=c.loading;return Object(z.useEffect)((function(){t(p())}),[]),Object(P.jsxs)("main",{className:"main",children:[Object(P.jsx)(Oe,{}),n?Object(P.jsx)(ce,{}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(ve,{products:(e=a,Object(f.a)(e).filter((function(e){return e.discount})).sort((function(e,t){return t.price*t.discount-e.price*e.discount}))),title:"Hot prices"}),Object(P.jsx)(xe,{}),Object(P.jsx)(ve,{products:ge(a),title:"Brand new models"})]})]})}),ye=(c(70),function(){return Object(P.jsxs)("main",{className:"not-found",children:[Object(P.jsx)("h1",{className:"not-found__title",children:"404"}),Object(P.jsx)("h2",{className:"not-found__subtitle",children:"Page not found"})]})}),ke=(c(71),function(){return Object(P.jsx)(ue,{productType:"phone"})}),Ce=(c(72),function(){var e=Object(z.useState)(),t=Object(G.a)(e,2),c=t[0],a=t[1],n=Object(z.useState)([]),s=Object(G.a)(n,2),i=s[0],r=s[1],o=$((function(e){return e.products})),l=o.products,d=o.loading,j=$((function(e){return e.favorites})).favorites,u=$((function(e){return e.cart})).cart,b=$((function(e){return e.productDetails})),m=b.productDetails,_=b.loadingDetails,O=Object(L.r)().productId,f=void 0===O?"":O,x=U();Object(z.useEffect)((function(){x(p())}),[x]),Object(z.useEffect)((function(){x(h(f))}),[]),Object(z.useEffect)((function(){var e=l.find((function(e){return e.id===f}));a(e)}),[l,f]);var v=Object(z.useMemo)((function(){return null!==c&&void 0!==c&&c.price?c.price-c.price*(c.discount||0)/100:0}),[c]);Object(z.useEffect)((function(){l.length&&c&&r(function(e,t,c){for(var a=e.filter((function(e){return e.id!==t})),n=[],s=0;s<c;s+=1){var i=Math.floor(Math.random()*a.length),r=a.splice(i,1)[0];n.push(r)}return n}(l,f,8))}),[l,c]);var g=Object(z.useState)(),k=Object(G.a)(g,2),C=k[0],S=k[1],w=[["#FCDBC1","Beige"],["#5F7170","Green"],["#4C4C4C","Grey"],["#F0F0F0","White"]],E=[64,256,512],T=Object(z.useState)(w[0][1]),I=Object(G.a)(T,2),M=I[0],q=I[1],D=Object(z.useState)(E[0]),J=Object(G.a)(D,2),R=J[0],H=J[1];Object(z.useEffect)((function(){S(null===m||void 0===m?void 0:m.images[0])}),[null===m||void 0===m?void 0:m.images]);var W=Object(z.useMemo)((function(){var e=l.find((function(e){return e.id===f}));return j.some((function(t){return t.id===(null===e||void 0===e?void 0:e.id)}))}),[j,l]),X=Object(z.useMemo)((function(){var e=l.find((function(e){return e.id===f}));return u.some((function(t){return t.id===(null===e||void 0===e?void 0:e.id)}))}),[u,l]);return Object(P.jsx)("main",{className:"details-page",children:d||_?Object(P.jsx)(ce,{}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(te,{}),Object(P.jsx)(pe,{}),m&&c&&Object(P.jsxs)("section",{className:"details",children:[Object(P.jsx)("h1",{className:"details__title",children:null===m||void 0===m?void 0:m.name}),Object(P.jsxs)("div",{className:"details__top",children:[Object(P.jsxs)("div",{className:"details__images-list",children:[Object(P.jsx)("div",{className:"details__images",children:null===m||void 0===m?void 0:m.images.map((function(e){return Object(P.jsx)("div",{role:"button",className:B()("details__image",{active:e===C}),onClick:function(){return S(e)},onKeyPress:function(){},tabIndex:-1,children:Object(P.jsx)("img",{src:e,alt:"photoLittle",className:"details__img-little"})},e)}))}),Object(P.jsx)("div",{className:"details__img-current",children:Object(P.jsx)("img",{src:C,alt:"phone",className:"details__img-big"})})]}),Object(P.jsxs)("div",{className:"details__info",children:[Object(P.jsxs)("div",{className:"details__colors",children:[Object(P.jsx)("h3",{className:"details__subTitle",children:"Available colors"}),Object(P.jsx)("div",{className:"details__select__container",children:w.map((function(e){return Object(P.jsx)("button",{className:B()("details__colors__button",{active:e[1]===M}),type:"button",onClick:function(){return q(e[1])},children:Object(P.jsx)("div",{className:"details__colors__backGround",style:{backgroundColor:e[0]}})},e[0])}))})]}),Object(P.jsxs)("div",{className:"details__capacity",children:[Object(P.jsx)("h3",{className:"details__subTitle",children:"Select capacity"}),Object(P.jsx)("div",{className:"details__select__container",children:E.map((function(e){return Object(P.jsx)("button",{type:"button",onClick:function(){return H(e)},className:B()("details__capacity__btn",{"details__capacity__btn-active":R===e}),children:"".concat(e," GB")},e)}))})]}),Object(P.jsx)("div",{className:"details__price-container",children:null!==c&&void 0!==c&&c.discount?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:"details__price",children:"$".concat(v)}),Object(P.jsx)("div",{className:"details__price details__price-crossed",children:"$".concat(null===c||void 0===c?void 0:c.price)})]}):Object(P.jsx)("div",{className:"details__price",children:"$".concat(null===c||void 0===c?void 0:c.price)})}),Object(P.jsxs)("div",{className:"details__button",children:[Object(P.jsx)("button",{type:"button",className:B()("details__button-add",{"details__button-add--active":X}),onClick:function(){if(c){var e={id:c.id,title:c.name,imageUrl:c.imageUrl,price:c.price*((100-c.discount)/100),color:M,capacity:R,quantity:1};x(X?A(e):F(e))}},children:X?"Added to cart":"Add to cart"}),Object(P.jsx)("button",{type:"button",className:"details__button-favorite","data-cy":"addToFavorite",onClick:function(){x(W?y(c):N(c))},children:Object(P.jsx)("span",{className:B()("icon",{"icon--favorites":!W,"icon--favorites--red":W})})})]}),Object(P.jsxs)("div",{className:"details__spec",children:[Object(P.jsxs)("div",{className:"details__spec__list",children:[Object(P.jsx)("span",{className:"details__spec__name",children:"Screen"}),Object(P.jsx)("span",{className:"details__spec__name",children:"Resolution"}),Object(P.jsx)("span",{className:"details__spec__name",children:"Processor"}),Object(P.jsx)("span",{className:"details__spec__name",children:"RAM"})]}),Object(P.jsxs)("div",{className:"details__spec__list",children:[Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.display.screenSize}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.display.screenResolution}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.hardware.cpu}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.storage.ram})]})]})]})]}),Object(P.jsxs)("div",{className:"details__bottom",children:[Object(P.jsxs)("div",{className:"details__about",children:[Object(P.jsx)("h3",{className:"details__heading",children:"About"}),Object(P.jsx)("div",{className:"details__description",children:null===m||void 0===m?void 0:m.description})]}),Object(P.jsxs)("div",{className:"details__techSpecs",children:[Object(P.jsx)("h3",{className:"details__heading",children:"Tech Specs"}),Object(P.jsxs)("div",{className:"details__techSpecs__container",children:[Object(P.jsxs)("div",{className:"details__spec__list",children:[Object(P.jsx)("span",{className:"details__spec__name",children:"Screen"}),Object(P.jsx)("span",{className:"details__spec__name",children:"Resolution"}),Object(P.jsx)("span",{className:"details__spec__name",children:"Processor"}),Object(P.jsx)("span",{className:"details__spec__name",children:"RAM"}),Object(P.jsx)("span",{className:"details__spec__name",children:"Battery"}),Object(P.jsx)("span",{className:"details__spec__name",children:"Camera"}),Object(P.jsx)("span",{className:"details__spec__name",children:"Weight"})]}),Object(P.jsxs)("div",{className:"details__spec__list",children:[Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.display.screenSize}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.display.screenResolution}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.hardware.cpu}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.storage.ram}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.battery.type}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.camera.primary}),Object(P.jsx)("span",{className:"details__spec__value",children:null===m||void 0===m?void 0:m.sizeAndWeight.weight})]})]})]})]})]}),Object(P.jsx)(ve,{products:i,title:"You may also like"})]})})}),Se=(c(73),function(){return Object(P.jsx)(ue,{productType:"tablet"})}),we=function(){return Object(P.jsx)(q.a,{children:Object(P.jsx)(L.e,{children:Object(P.jsxs)(L.c,{path:"/",element:Object(P.jsx)(ee,{}),children:[Object(P.jsx)(L.c,{index:!0,element:Object(P.jsx)(Ne,{})}),Object(P.jsxs)(L.c,{path:"phones",children:[Object(P.jsx)(L.c,{index:!0,element:Object(P.jsx)(ke,{})}),Object(P.jsx)(L.c,{path:":productId",element:Object(P.jsx)(Ce,{})})]}),Object(P.jsxs)(L.c,{path:"tablets",children:[Object(P.jsx)(L.c,{index:!0,element:Object(P.jsx)(Se,{})}),Object(P.jsx)(L.c,{path:":productId",element:Object(P.jsx)(Ce,{})})]}),Object(P.jsx)(L.c,{path:"accessories",element:Object(P.jsx)(be,{})}),Object(P.jsx)(L.c,{path:"favorites",element:Object(P.jsx)(he,{})}),Object(P.jsx)(L.c,{path:"cart",element:Object(P.jsx)(_e,{})}),Object(P.jsx)(L.c,{path:"home",element:Object(P.jsx)(L.a,{to:"/",replace:!0})}),Object(P.jsx)(L.c,{path:"*",element:Object(P.jsx)(ye,{})})]})})})};n.a.render(Object(P.jsx)(s.a,{store:M,children:Object(P.jsx)(we,{})}),document.getElementById("root"))}]),[[74,1,2]]]);
//# sourceMappingURL=main.4b7c1121.chunk.js.map